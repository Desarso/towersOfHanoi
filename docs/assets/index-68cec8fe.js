(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(l){if(l.ep)return;l.ep=!0;const n=t(l);fetch(l.href,n)}})();const se=(s,e)=>s===e,W={equals:se};let Y=Z;const b=1,T=2,K={owned:null,cleanups:null,context:null,owner:null};var w=null;let U=null,h=null,g=null,S=null,P=0;function ie(s,e){const t=h,i=w,l=s.length===0,n=e===void 0?i:e,o=l?K:{owned:null,cleanups:null,context:n?n.context:null,owner:n},r=l?s:()=>s(()=>A(()=>_(o)));w=o,h=null;try{return B(r,!0)}finally{h=t,w=i}}function N(s,e){e=e?Object.assign({},W,e):W;const t={value:s,observers:null,observerSlots:null,comparator:e.equals||void 0},i=l=>(typeof l=="function"&&(l=l(t.value)),Q(t,l));return[re.bind(t),i]}function $(s,e,t){const i=J(s,e,!1,b);M(i)}function le(s,e,t){Y=ae;const i=J(s,e,!1,b);(!t||!t.render)&&(i.user=!0),S?S.push(i):M(i)}function A(s){if(h===null)return s();const e=h;h=null;try{return s()}finally{h=e}}function ne(s){le(()=>A(s))}function re(){if(this.sources&&this.state)if(this.state===b)M(this);else{const s=g;g=null,B(()=>z(this),!1),g=s}if(h){const s=this.observers?this.observers.length:0;h.sources?(h.sources.push(this),h.sourceSlots.push(s)):(h.sources=[this],h.sourceSlots=[s]),this.observers?(this.observers.push(h),this.observerSlots.push(h.sources.length-1)):(this.observers=[h],this.observerSlots=[h.sources.length-1])}return this.value}function Q(s,e,t){let i=s.value;return(!s.comparator||!s.comparator(i,e))&&(s.value=e,s.observers&&s.observers.length&&B(()=>{for(let l=0;l<s.observers.length;l+=1){const n=s.observers[l],o=U&&U.running;o&&U.disposed.has(n),(o?!n.tState:!n.state)&&(n.pure?g.push(n):S.push(n),n.observers&&ee(n)),o||(n.state=b)}if(g.length>1e6)throw g=[],new Error},!1)),e}function M(s){if(!s.fn)return;_(s);const e=w,t=h,i=P;h=w=s,oe(s,s.value,i),h=t,w=e}function oe(s,e,t){let i;try{i=s.fn(e)}catch(l){return s.pure&&(s.state=b,s.owned&&s.owned.forEach(_),s.owned=null),s.updatedAt=t+1,te(l)}(!s.updatedAt||s.updatedAt<=t)&&(s.updatedAt!=null&&"observers"in s?Q(s,i):s.value=i,s.updatedAt=t)}function J(s,e,t,i=b,l){const n={fn:s,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:w,context:w?w.context:null,pure:t};return w===null||w!==K&&(w.owned?w.owned.push(n):w.owned=[n]),n}function k(s){if(s.state===0)return;if(s.state===T)return z(s);if(s.suspense&&A(s.suspense.inFallback))return s.suspense.effects.push(s);const e=[s];for(;(s=s.owner)&&(!s.updatedAt||s.updatedAt<P);)s.state&&e.push(s);for(let t=e.length-1;t>=0;t--)if(s=e[t],s.state===b)M(s);else if(s.state===T){const i=g;g=null,B(()=>z(s,e[0]),!1),g=i}}function B(s,e){if(g)return s();let t=!1;e||(g=[]),S?t=!0:S=[],P++;try{const i=s();return ce(t),i}catch(i){t||(S=null),g=null,te(i)}}function ce(s){if(g&&(Z(g),g=null),s)return;const e=S;S=null,e.length&&B(()=>Y(e),!1)}function Z(s){for(let e=0;e<s.length;e++)k(s[e])}function ae(s){let e,t=0;for(e=0;e<s.length;e++){const i=s[e];i.user?s[t++]=i:k(i)}for(e=0;e<t;e++)k(s[e])}function z(s,e){s.state=0;for(let t=0;t<s.sources.length;t+=1){const i=s.sources[t];if(i.sources){const l=i.state;l===b?i!==e&&(!i.updatedAt||i.updatedAt<P)&&k(i):l===T&&z(i,e)}}}function ee(s){for(let e=0;e<s.observers.length;e+=1){const t=s.observers[e];t.state||(t.state=T,t.pure?g.push(t):S.push(t),t.observers&&ee(t))}}function _(s){let e;if(s.sources)for(;s.sources.length;){const t=s.sources.pop(),i=s.sourceSlots.pop(),l=t.observers;if(l&&l.length){const n=l.pop(),o=t.observerSlots.pop();i<l.length&&(n.sourceSlots[o]=i,l[i]=n,t.observerSlots[i]=o)}}if(s.owned){for(e=s.owned.length-1;e>=0;e--)_(s.owned[e]);s.owned=null}if(s.cleanups){for(e=s.cleanups.length-1;e>=0;e--)s.cleanups[e]();s.cleanups=null}s.state=0}function ue(s){return s instanceof Error?s:new Error(typeof s=="string"?s:"Unknown error",{cause:s})}function te(s,e=w){throw ue(s)}function fe(s,e){return A(()=>s(e||{}))}function he(s,e,t){let i=t.length,l=e.length,n=i,o=0,r=0,c=e[l-1].nextSibling,p=null;for(;o<l||r<n;){if(e[o]===t[r]){o++,r++;continue}for(;e[l-1]===t[n-1];)l--,n--;if(l===o){const f=n<i?r?t[r-1].nextSibling:t[n-r]:c;for(;r<n;)s.insertBefore(t[r++],f)}else if(n===r)for(;o<l;)(!p||!p.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[n-1]&&t[r]===e[l-1]){const f=e[--l].nextSibling;s.insertBefore(t[r++],e[o++].nextSibling),s.insertBefore(t[--n],f),e[l]=t[n]}else{if(!p){p=new Map;let a=r;for(;a<n;)p.set(t[a],a++)}const f=p.get(e[o]);if(f!=null)if(r<f&&f<n){let a=o,m=1,u;for(;++a<l&&a<n&&!((u=p.get(e[a]))==null||u!==f+m);)m++;if(m>f-r){const v=e[o];for(;r<f;)s.insertBefore(t[r++],v)}else s.replaceChild(t[r++],e[o++])}else o++;else e[o++].remove()}}}const q="_$DX_DELEGATE";function de(s,e,t,i={}){let l;return ie(n=>{l=n,e===document?s():I(e,s(),e.firstChild?null:void 0,t)},i.owner),()=>{l(),e.textContent=""}}function pe(s,e,t){let i;const l=()=>{const o=document.createElement("template");return o.innerHTML=s,t?o.content.firstChild.firstChild:o.content.firstChild},n=e?()=>A(()=>document.importNode(i||(i=l()),!0)):()=>(i||(i=l())).cloneNode(!0);return n.cloneNode=n,n}function ge(s,e=window.document){const t=e[q]||(e[q]=new Set);for(let i=0,l=s.length;i<l;i++){const n=s[i];t.has(n)||(t.add(n),e.addEventListener(n,me))}}function G(s,e){e==null?s.removeAttribute("class"):s.className=e}function I(s,e,t,i){if(t!==void 0&&!i&&(i=[]),typeof e!="function")return O(s,e,i,t);$(l=>O(s,e(),l,t),i)}function me(s){const e=`$$${s.type}`;let t=s.composedPath&&s.composedPath()[0]||s.target;for(s.target!==t&&Object.defineProperty(s,"target",{configurable:!0,value:t}),Object.defineProperty(s,"currentTarget",{configurable:!0,get(){return t||document}});t;){const i=t[e];if(i&&!t.disabled){const l=t[`${e}Data`];if(l!==void 0?i.call(t,l,s):i.call(t,s),s.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function O(s,e,t,i,l){for(;typeof t=="function";)t=t();if(e===t)return t;const n=typeof e,o=i!==void 0;if(s=o&&t[0]&&t[0].parentNode||s,n==="string"||n==="number")if(n==="number"&&(e=e.toString()),o){let r=t[0];r&&r.nodeType===3?r.data=e:r=document.createTextNode(e),t=x(s,t,i,r)}else t!==""&&typeof t=="string"?t=s.firstChild.data=e:t=s.textContent=e;else if(e==null||n==="boolean")t=x(s,t,i);else{if(n==="function")return $(()=>{let r=e();for(;typeof r=="function";)r=r();t=O(s,r,t,i)}),()=>t;if(Array.isArray(e)){const r=[],c=t&&Array.isArray(t);if(F(r,e,t,l))return $(()=>t=O(s,r,t,i,!0)),()=>t;if(r.length===0){if(t=x(s,t,i),o)return t}else c?t.length===0?V(s,r,i):he(s,t,r):(t&&x(s),V(s,r));t=r}else if(e.nodeType){if(Array.isArray(t)){if(o)return t=x(s,t,i,e);x(s,t,null,e)}else t==null||t===""||!s.firstChild?s.appendChild(e):s.replaceChild(e,s.firstChild);t=e}else console.warn("Unrecognized value. Skipped inserting",e)}return t}function F(s,e,t,i){let l=!1;for(let n=0,o=e.length;n<o;n++){let r=e[n],c=t&&t[n],p;if(!(r==null||r===!0||r===!1))if((p=typeof r)=="object"&&r.nodeType)s.push(r);else if(Array.isArray(r))l=F(s,r,c)||l;else if(p==="function")if(i){for(;typeof r=="function";)r=r();l=F(s,Array.isArray(r)?r:[r],Array.isArray(c)?c:[c])||l}else s.push(r),l=!0;else{const f=String(r);c&&c.nodeType===3&&c.data===f?s.push(c):s.push(document.createTextNode(f))}}return l}function V(s,e,t=null){for(let i=0,l=e.length;i<l;i++)s.insertBefore(e[i],t)}function x(s,e,t,i){if(t===void 0)return s.textContent="";const l=i||document.createTextNode("");if(e.length){let n=!1;for(let o=e.length-1;o>=0;o--){const r=e[o];if(l!==r){const c=r.parentNode===s;!n&&!o?c?s.replaceChild(l,r):s.insertBefore(l,t):c&&r.remove()}else n=!0}}else s.insertBefore(l,t);return[l]}const we=pe('<div class="whole-Container"><div class="bar-container"><div class="bar"><div class="circleHolder"></div></div><div class="bar"><div class="barBase"></div><div class="circleHolder"></div></div><div class="bar"><div class="circleHolder"></div></div></div><button>Mover over</button><div class="slidersContainer"><div class="singleSliderContainer"><input type="range" id="size" name="size" min="2" max="5" value="3"></div><div class="singleSliderContainer"><input type="range" id="size" name="size" class="slider" min="1" max="200">');class ve{constructor(e,t){this.self=e,this.index=t}async moveUICircleToBar(e,t){let i=this.heightFromBottom()-220,l=this.heightFromBottom();t===50?this.self.style.transition=`transform ${t}ms linear`:this.self.style.transition=`transform ${t}ms cubic-bezier(.7,.12,.24,.96)`,this.self.style.transform=`translateY(${i}px)`,await this.sleep(t);let n=this.distanceFromBar(e);this.self.style.transform=`translate(${n}px,${i}px )`,await this.sleep(t);let o=e.circles.length;this.self.style.transform=`translate(${n}px,${l-26.33*o}px )`,await this.sleep(t),e.addCircle(this),this.self.style.transform="translate(0px,0px)"}async sleep(e){return new Promise(t=>setTimeout(t,e))}heightFromBottom(){let e=document.querySelector(".barBase")?.getBoundingClientRect().top,t=this.self.getBoundingClientRect().bottom;return e-t}distanceFromBar(e){let t=e.self.getBoundingClientRect(),i=(t.left+t.right)/2,l=this.self.getBoundingClientRect();return-((l.left+l.right)/2-i)}}class X{animationTime=100;size=0;constructor(e,t){this.self=e,this.circles=t,this.size=t.length}addNewCircle(e){let n=document.createElement("div");n.classList.add("circle"),n.style.width=`${40+e*12<120?40+e*12:120}px`;let o=`hsl(${e*40+100}, 100%, 50%)`;e===2&&(o="rgb(202, 201, 201)"),n.style.backgroundColor=o,this.self.append(n);let r=new ve(n,e);this.addCircle(r),this.size++}removeCircle(){let e=this.circles.shift();return e?.self.remove(),e}addCircle(e){this.circles.push(e),this.self.insertBefore(e.self,this.self.childNodes[0])}async UIMove(e){await this.circles[this.circles.length-1]?.moveUICircleToBar(e,this.animationTime),this.circles.pop()}print(){let e=[];for(let t=0;t<this.circles.length;t++)e.push(this.circles[t].index);console.log(e)}isSorted(){let e=[];for(let l=0;l<this.circles.length;l++)e.push(this.circles[l].index);let t=!0,i=!0;for(let l=0;l<e.length&&l!==e.length-1;l++){let n=e[l],o=e[l+1];n>o&&(t=!1),n<o&&(i=!1)}return t||i}}class ye{constructor(e,t){this.value=e,this.next=t}}class j{constructor(){this.top=null}push(e){let t=new ye(e,null);this.top===null?this.top=t:(t.next=this.top,this.top=t)}pop(){if(this.top===null)return null;{let e=this.top.value;return this.top=this.top.next,e}}peek(){return this.top===null?null:this.top.value}isEmpty(){return this.top===null}print(){let e=this.top,t=[];for(;e!==null;)t.push(e.value),e=e.next;console.log(t)}}class H{Stacks=[new j,new j,new j];moves=[];globalBestScore=0;shortestNumberOfMoves=1/0;size=0;depth=0;constructor(e){if(e.length!==0){for(let t=0;t<e[0].circles.length;t++)this.Stacks[0].push(e[0].circles[t].index),this.size++;for(let t=0;t<e[1].circles.length;t++)this.Stacks[1].push(e[1].circles[t].index),this.size++;for(let t=0;t<e[2].circles.length;t++)this.Stacks[2].push(e[2].circles[t].index),this.size++;this.depth=this.size+1}}print(){console.log("One"),this.Stacks[0].print(),console.log("Two"),this.Stacks[1].print(),console.log("Three"),this.Stacks[2].print()}cloneSolver(){let e=new H([]);return e.Stacks=this.Stacks,e}async findBestMove(){let e=await this.generateMoves();for(let t=0;t<e.length;t++){let i=e[t];await this.move(i[0],i[1]),await this.traverseTree(this,0,[i]),await this.move(i[1],i[0])}return this.globalBestScore===this.size}async traverseTree(e,t,i=[]){if(await e.evaluatePosition(e)===this.size)return console.log("fully solved the tower"),this.size;if(t===this.depth)return await e.evaluatePosition(e);let l=await e.generateMoves(),n=l[0],o=0;for(let r=0;r<l.length;r++){let c=l[r];if(!(c[0]===i[i.length-1][1]&&c[1]===i[i.length-1][0])){await e.move(c[0],c[1]);let p=await e.traverseTree(e,t+1,[...i,c]);if(await e.move(c[1],c[0]),p>o){o=p,n=c;let f=[...i,n];if(o===e.globalBestScore?f.length<e.shortestNumberOfMoves&&(e.shortestNumberOfMoves=f.length,e.moves=f):o>this.globalBestScore&&(this.globalBestScore=o,this.moves=f),p===this.size&&this.size>5)return e.size}}}return o}async generateMoves(){let e=[];return this.Stacks[0].isEmpty()||(e.push([0,1]),e.push([0,2])),this.Stacks[1].isEmpty()||(e.push([1,0]),e.push([1,2])),this.Stacks[2].isEmpty()||(e.push([2,0]),e.push([2,1])),e}async move(e,t){let i=this.Stacks[e].pop();i!==null&&this.Stacks[t].push(i)}async evaluatePosition(e){let t=e.Stacks[0],i=e.Stacks[1],l=e.Stacks[2],n=this.evaluateStack(t),o=this.evaluateStack(i),r=this.evaluateStack(l);return Math.max(n,o,r)}evaluateStack(e){let t=e.top,i=0,l=1,n=1,o=[];for(;t!==null;)o.push(t.value),t=t.next;for(let r=0;r<o.length&&r!==o.length-1;r++){let c=o[r],p=o[r+1];c>p?(l++,n=1):(n++,l=1),n>i&&(i=Math.max(n,l))}return i}async moveOver(){this.moves=[],this.Stacks[0].isEmpty()?(console.log("empty"),await this.tower(this.size,2,0,1)):(console.log("working"),await this.tower(this.size,0,2,1)),console.log("done"),console.log(this.Stacks)}async tower(e,t,i,l){console.log("I am at disk:",e,t,i,l),e!==0&&(await this.tower(e-1,t,l,i),console.log("move disk :",e,"from peg",t,"to peg",i),await this.move(t,i),this.moves.push([t,i]),await this.tower(e-1,l,i,t))}}const Se=()=>{const[s,e]=N(),[t,i]=N(3),[l,n]=N(249),[o,r]=N(!1);ne(()=>{let a=document.querySelectorAll(".circleHolder"),m=[];for(let u=0;u<a.length;u++){let v=new X(a[u],[]);m.push(v)}e(m);for(let u=t();u>0;u--)s()[0].addNewCircle(u);for(let u=0;u<s().length;u++)s()[u].animationTime=l()});function c(a){n(a),s()[0].animationTime=a,s()[1].animationTime=a,s()[2].animationTime=a}function p(a){let m=document.querySelectorAll(".circle");for(let d=0;d<m.length;d++)m[d].remove();let u=document.querySelectorAll(".circleHolder"),v=[];for(let d=0;d<u.length;d++){let C=new X(u[d],[]);v.push(C)}console.log(v),e(v);for(let d=a;d>0;d--)s()[0].addNewCircle(d);for(let d=0;d<s().length;d++)s()[d].animationTime=l();i(a)}async function f(){let a=new H(s());await a.moveOver(),a.print();for(let m=0;m<a.moves.length;m++){let u=a.moves[m];await s()[u[0]].UIMove(s()[u[1]])}}return(()=>{const a=we(),m=a.firstChild,u=m.nextSibling,v=u.nextSibling,d=v.firstChild,C=d.firstChild,R=d.nextSibling,L=R.firstChild;return u.$$click=async()=>{r(!0),await f(),r(!1)},I(d,()=>`BARS: ${t()}`,C),C.$$input=y=>p(y.currentTarget.valueAsNumber),I(R,()=>`SPEED: ${250-l()}`,L),L.$$input=y=>{let E=250-y.currentTarget.valueAsNumber;console.log(E),c(E)},$(y=>{const E=o()?"blocked":"",D=`slider ${o()?"blocked":""}`;return E!==y._v$&&G(u,y._v$=E),D!==y._v$2&&G(C,y._v$2=D),y},{_v$:void 0,_v$2:void 0}),$(()=>L.value=250-l()),a})()};ge(["click","input"]);const be=document.getElementById("root");de(()=>fe(Se,{}),be);
